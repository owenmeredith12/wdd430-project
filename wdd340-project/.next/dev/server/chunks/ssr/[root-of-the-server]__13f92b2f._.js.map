{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Owner/Documents/wdd430/wdd430-project/wdd340-project/src/app/product/%5Bid%5D/page.tsx"],"sourcesContent":["// app/product/[id]/page.tsx\r\nimport postgres from \"postgres\";\r\nimport Image from \"next/image\";\r\n\r\n// Initialize Postgres connection\r\nconst sql = postgres(process.env.POSTGRES_URL!, { ssl: \"require\" });\r\n\r\n// Define Product type\r\ntype Product = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  image_url: string | null;\r\n};\r\n\r\n// Next.js App Router passes dynamic segments in `params`\r\nexport default async function ProductPage({\r\n  params: { id: productId }, // destructure directly here\r\n}: {\r\n  params: { id: string };\r\n}) {\r\n  if (!productId) {\r\n    return <div>Invalid product id</div>;\r\n  }\r\n\r\n  // Fetch product from database\r\n  const result = await sql<Product[]>`\r\n    SELECT id, name, description, price, image_url\r\n    FROM products\r\n    WHERE id = ${productId}::uuid\r\n    LIMIT 1\r\n  `;\r\n\r\n  const product = result[0];\r\n\r\n  if (!product) return <div>Product not found</div>;\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-3xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-4\">{product.name}</h1>\r\n\r\n      {product.image_url && (\r\n        <div className=\"relative w-full h-96 mb-6\">\r\n          <Image\r\n            src={product.image_url}\r\n            alt={product.name}\r\n            fill\r\n            className=\"object-cover rounded-lg\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <p className=\"text-lg mb-4\">{product.description}</p>\r\n      <p className=\"text-xl font-semibold\">${product.price}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;AAC5B;AACA;;;;AAEA,iCAAiC;AACjC,MAAM,MAAM,IAAA,mJAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,EAAG;IAAE,KAAK;AAAU;AAYlD,eAAe,YAAY,EACxC,QAAQ,EAAE,IAAI,SAAS,EAAE,EAG1B;IACC,IAAI,CAAC,WAAW;QACd,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,8BAA8B;IAC9B,MAAM,SAAS,MAAM,GAAc,CAAC;;;eAGvB,EAAE,UAAU;;EAEzB,CAAC;IAED,MAAM,UAAU,MAAM,CAAC,EAAE;IAEzB,IAAI,CAAC,SAAS,qBAAO,8OAAC;kBAAI;;;;;;IAE1B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA2B,QAAQ,IAAI;;;;;;YAEpD,QAAQ,SAAS,kBAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,wIAAK;oBACJ,KAAK,QAAQ,SAAS;oBACtB,KAAK,QAAQ,IAAI;oBACjB,IAAI;oBACJ,WAAU;;;;;;;;;;;0BAKhB,8OAAC;gBAAE,WAAU;0BAAgB,QAAQ,WAAW;;;;;;0BAChD,8OAAC;gBAAE,WAAU;;oBAAwB;oBAAE,QAAQ,KAAK;;;;;;;;;;;;;AAG1D"}}]
}