{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Owner/Documents/wdd430/wdd430-project/wdd340-project/src/app/components/ui/button.tsx"],"sourcesContent":["import clsx from 'clsx';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function Button({ children, className, ...rest }: ButtonProps) {\r\n  return (\r\n    <button\r\n      {...rest}\r\n      className={clsx(\r\n        'flex h-10 items-center rounded-lg bg-blue-500 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50',\r\n        className,\r\n      )}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;;AAMO,SAAS,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAmB;IAClE,qBACE,8OAAC;QACE,GAAG,IAAI;QACR,WAAW,IAAA,gJAAI,EACb,kTACA;kBAGD;;;;;;AAGP"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Owner/Documents/wdd430/wdd430-project/wdd340-project/src/app/product/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { Button } from \"../components/ui/button\";\r\n\r\ntype Product = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  imageUrl: string;\r\n};\r\n\r\ntype Review = {\r\n  id: string;\r\n  rating: number;\r\n  userName: string;\r\n  comment: string;\r\n};\r\n\r\nexport default function ProductPage() {\r\n  const searchParams = useSearchParams();\r\n  const id = searchParams.get(\"id\");\r\n\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Add Review state\r\n  const [newRating, setNewRating] = useState(5);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n\r\n    fetch(`/api/product?id=${id}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setProduct(data.product);\r\n        setReviews(data.reviews || []);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleAddReview = async () => {\r\n    if (!product || !newComment.trim()) {\r\n      alert(\"Please enter a comment\");\r\n      return;\r\n    }\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/reviews\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          productId: product.id,\r\n          rating: newRating,\r\n          comment: newComment.trim(),\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok && data.review) {\r\n        setReviews([...reviews, data.review]);\r\n        setNewRating(5);\r\n        setNewComment(\"\");\r\n      } else {\r\n        alert(data.error || \"Failed to add review\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to add review\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (!product) return <p>Invalid product ID</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-8\">\r\n      <h1 className=\"text-4xl font-bold mb-4\">{product.name}</h1>\r\n\r\n      <div className=\"relative w-full h-96 mb-4 rounded-xl overflow-hidden\">\r\n        <Image src={product.imageUrl} alt={product.name} fill className=\"object-cover\" />\r\n      </div>\r\n\r\n      <p className=\"mb-4\">{product.description}</p>\r\n      <p className=\"text-2xl font-semibold mb-6\">${product.price}</p>\r\n      <Button>Add to Cart</Button>\r\n\r\n<section className=\"mt-12\">\r\n  <h2 className=\"text-2xl font-bold mb-4\">Reviews</h2>\r\n  {reviews.length === 0 ? (\r\n    <p className=\"text-gray-500\">No reviews yet.</p>\r\n  ) : (\r\n    <ul className=\"space-y-4\">\r\n      {reviews.map((rev) => (\r\n        <li key={rev.id} className=\"border p-4 rounded-lg\">\r\n          <p className=\"font-medium\">{rev.userName}</p>\r\n          <p>Rating: {rev.rating} / 5</p>\r\n          {rev.comment && rev.comment.trim() !== \"\" && (\r\n            <p className=\"mt-1 text-gray-700\">{rev.comment}</p>\r\n          )}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )}\r\n</section>\r\n\r\n\r\n      <section className=\"mt-8\">\r\n        <h3 className=\"text-xl font-bold mb-2\">Add a Review</h3>\r\n        <div className=\"flex flex-col space-y-2 mb-2\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <label>Rating:</label>\r\n            <select\r\n              value={newRating}\r\n              onChange={(e) => setNewRating(Number(e.target.value))}\r\n              className=\"border p-1 rounded\"\r\n            >\r\n              {[1, 2, 3, 4, 5].map((n) => (\r\n                <option key={n} value={n}>\r\n                  {n}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block mb-1 font-medium\">Comment:</label>\r\n            <textarea\r\n              value={newComment}\r\n              onChange={(e) => setNewComment(e.target.value)}\r\n              className=\"w-full border rounded px-3 py-2\"\r\n              rows={3}\r\n              required\r\n            />\r\n          </div>\r\n          <Button onClick={handleAddReview} disabled={submitting}>\r\n            {submitting ? \"Submitting...\" : \"Add Review\"}\r\n          </Button>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}