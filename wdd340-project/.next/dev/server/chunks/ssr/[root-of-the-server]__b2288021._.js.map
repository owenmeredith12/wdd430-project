{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Owner/Documents/wdd430/wdd430-project/wdd340-project/src/app/product/%5Bid%5D/page.tsx"],"sourcesContent":["import { useState } from \"react\";\r\n\r\n// inside your ProductPage component, after reviews section\r\nconst [newRating, setNewRating] = useState(5); // default 5\r\nconst [submitting, setSubmitting] = useState(false);\r\n\r\nasync function handleAddReview() {\r\n  if (!product) return;\r\n  setSubmitting(true);\r\n\r\n  // Replace with your actual user ID, e.g., from session\r\n  const userId = \"123\"; \r\n\r\n  const res = await fetch(\"/api/review\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({\r\n      productId: product.id,\r\n      rating: newRating,\r\n      userId,\r\n    }),\r\n  });\r\n\r\n  const data = await res.json();\r\n  if (data.review) {\r\n    setReviews([ ...reviews, { id: data.review.id, rating: newRating, userName: \"You\" } ]);\r\n  }\r\n\r\n  setSubmitting(false);\r\n}\r\n"],"names":[],"mappings":";AAAA;;AAEA,2DAA2D;AAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,IAAI,YAAY;AAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;AAE7C,eAAe;IACb,IAAI,CAAC,SAAS;IACd,cAAc;IAEd,uDAAuD;IACvD,MAAM,SAAS;IAEf,MAAM,MAAM,MAAM,MAAM,eAAe;QACrC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YACnB,WAAW,QAAQ,EAAE;YACrB,QAAQ;YACR;QACF;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,KAAK,MAAM,EAAE;QACf,WAAW;eAAK;YAAS;gBAAE,IAAI,KAAK,MAAM,CAAC,EAAE;gBAAE,QAAQ;gBAAW,UAAU;YAAM;SAAG;IACvF;IAEA,cAAc;AAChB"}}]
}